define("gallery/iscroll/4.2.5/iscroll-lite",[],function(e,t,n){(function(){var e=Math,n=function(e){return e>>0},r=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",i=/android/gi.test(navigator.appVersion),s=/iphone|ipad/gi.test(navigator.appVersion),o=/playbook/gi.test(navigator.appVersion),u=/hp-tablet/gi.test(navigator.appVersion),a="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,f="ontouchstart"in window&&!u,l=r+"Transform"in document.documentElement.style,c=s||o,h=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,17)}}(),p=function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),d="onorientationchange"in window?"orientationchange":"resize",v=f?"touchstart":"mousedown",m=f?"touchmove":"mousemove",g=f?"touchend":"mouseup",y=f?"touchcancel":"mouseup",b="translate"+(a?"3d(":"("),w=a?",0)":")",E=function(e,t){var n=this,i=document,s;n.wrapper=typeof e=="object"?e:i.getElementById(e),n.wrapper.style.overflow="hidden",n.scroller=n.wrapper.children[0],n.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,onRefresh:null,onBeforeScrollStart:function(e){e.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(s in t)n.options[s]=t[s];n.x=n.options.x,n.y=n.options.y,n.options.useTransform=l?n.options.useTransform:!1,n.options.hScrollbar=n.options.hScroll&&n.options.hScrollbar,n.options.vScrollbar=n.options.vScroll&&n.options.vScrollbar,n.options.useTransition=c&&n.options.useTransition,n.scroller.style[r+"TransitionProperty"]=n.options.useTransform?"-"+r.toLowerCase()+"-transform":"top left",n.scroller.style[r+"TransitionDuration"]="0",n.scroller.style[r+"TransformOrigin"]="0 0",n.options.useTransition&&(n.scroller.style[r+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)"),n.options.useTransform?n.scroller.style[r+"Transform"]=b+n.x+"px,"+n.y+"px"+w:n.scroller.style.cssText+=";position:absolute;top:"+n.y+"px;left:"+n.x+"px",n.refresh(),n._bind(d,window),n._bind(v),f||n._bind("mouseout",n.wrapper)};E.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,handleEvent:function(e){var t=this;switch(e.type){case v:if(!f&&e.button!==0)return;t._start(e);break;case m:t._move(e);break;case g:case y:t._end(e);break;case d:t._resize();break;case"mouseout":t._mouseout(e);break;case"webkitTransitionEnd":t._transitionEnd(e)}},_resize:function(){this.refresh()},_pos:function(e,t){e=this.hScroll?e:0,t=this.vScroll?t:0,this.options.useTransform?this.scroller.style[r+"Transform"]=b+e+"px,"+t+"px"+w+" scale("+this.scale+")":(e=n(e),t=n(t),this.scroller.style.left=e+"px",this.scroller.style.top=t+"px"),this.x=e,this.y=t},_start:function(e){var t=this,n=f?e.touches[0]:e,i,s,o;if(!t.enabled)return;t.options.onBeforeScrollStart&&t.options.onBeforeScrollStart.call(t,e),t.options.useTransition&&t._transitionTime(0),t.moved=!1,t.animating=!1,t.zoomed=!1,t.distX=0,t.distY=0,t.absDistX=0,t.absDistY=0,t.dirX=0,t.dirY=0;if(t.options.momentum){t.options.useTransform?(i=getComputedStyle(t.scroller,null)[r+"Transform"].replace(/[^0-9-.,]/g,"").split(","),s=i[4]*1,o=i[5]*1):(s=getComputedStyle(t.scroller,null).left.replace(/[^0-9-]/g,"")*1,o=getComputedStyle(t.scroller,null).top.replace(/[^0-9-]/g,"")*1);if(s!=t.x||o!=t.y)t.options.useTransition?t._unbind("webkitTransitionEnd"):p(t.aniTime),t.steps=[],t._pos(s,o)}t.startX=t.x,t.startY=t.y,t.pointX=n.pageX,t.pointY=n.pageY,t.startTime=e.timeStamp||Date.now(),t.options.onScrollStart&&t.options.onScrollStart.call(t,e),t._bind(m),t._bind(g),t._bind(y)},_move:function(t){var n=this,r=f?t.touches[0]:t,i=r.pageX-n.pointX,s=r.pageY-n.pointY,o=n.x+i,u=n.y+s,a=t.timeStamp||Date.now();n.options.onBeforeScrollMove&&n.options.onBeforeScrollMove.call(n,t),n.pointX=r.pageX,n.pointY=r.pageY;if(o>0||o<n.maxScrollX)o=n.options.bounce?n.x+i/2:o>=0||n.maxScrollX>=0?0:n.maxScrollX;if(u>0||u<n.maxScrollY)u=n.options.bounce?n.y+s/2:u>=0||n.maxScrollY>=0?0:n.maxScrollY;n.distX+=i,n.distY+=s,n.absDistX=e.abs(n.distX),n.absDistY=e.abs(n.distY);if(n.absDistX<6&&n.absDistY<6)return;n.options.lockDirection&&(n.absDistX>n.absDistY+5?(u=n.y,s=0):n.absDistY>n.absDistX+5&&(o=n.x,i=0)),n.moved=!0,n._pos(o,u),n.dirX=i>0?-1:i<0?1:0,n.dirY=s>0?-1:s<0?1:0,a-n.startTime>300&&(n.startTime=a,n.startX=n.x,n.startY=n.y),n.options.onScrollMove&&n.options.onScrollMove.call(n,t)},_end:function(t){if(f&&t.touches.length!=0)return;var r=this,i=f?t.changedTouches[0]:t,s,o,u={dist:0,time:0},a={dist:0,time:0},l=(t.timeStamp||Date.now())-r.startTime,c=r.x,h=r.y,p;r._unbind(m),r._unbind(g),r._unbind(y),r.options.onBeforeScrollEnd&&r.options.onBeforeScrollEnd.call(r,t);if(!r.moved){if(f){s=i.target;while(s.nodeType!=1)s=s.parentNode;s.tagName!="SELECT"&&s.tagName!="INPUT"&&s.tagName!="TEXTAREA"&&(o=document.createEvent("MouseEvents"),o.initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),o._fake=!0,s.dispatchEvent(o))}r._resetPos(200),r.options.onTouchEnd&&r.options.onTouchEnd.call(r,t);return}if(l<300&&r.options.momentum){u=c?r._momentum(c-r.startX,l,-r.x,r.scrollerW-r.wrapperW+r.x,r.options.bounce?r.wrapperW:0):u,a=h?r._momentum(h-r.startY,l,-r.y,r.maxScrollY<0?r.scrollerH-r.wrapperH+r.y:0,r.options.bounce?r.wrapperH:0):a,c=r.x+u.dist,h=r.y+a.dist;if(r.x>0&&c>0||r.x<r.maxScrollX&&c<r.maxScrollX)u={dist:0,time:0};if(r.y>0&&h>0||r.y<r.maxScrollY&&h<r.maxScrollY)a={dist:0,time:0}}if(u.dist||a.dist){p=e.max(e.max(u.time,a.time),10),r.scrollTo(n(c),n(h),p),r.options.onTouchEnd&&r.options.onTouchEnd.call(r,t);return}r._resetPos(200),r.options.onTouchEnd&&r.options.onTouchEnd.call(r,t)},_resetPos:function(e){var t=this,n=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,r=t.y>=0||t.maxScrollY>0?0:t.y<t.maxScrollY?t.maxScrollY:t.y;if(n==t.x&&r==t.y){t.moved&&(t.options.onScrollEnd&&t.options.onScrollEnd.call(t),t.moved=!1);return}t.scrollTo(n,r,e||0)},_mouseout:function(e){var t=e.relatedTarget;if(!t){this._end(e);return}while(t=t.parentNode)if(t==this.wrapper)return;this._end(e)},_transitionEnd:function(e){var t=this;if(e.target!=t.scroller)return;t._unbind("webkitTransitionEnd"),t._startAni()},_startAni:function(){var t=this,n=t.x,r=t.y,i=Date.now(),s,o,u;if(t.animating)return;if(!t.steps.length){t._resetPos(400);return}s=t.steps.shift(),s.x==n&&s.y==r&&(s.time=0),t.animating=!0,t.moved=!0;if(t.options.useTransition){t._transitionTime(s.time),t._pos(s.x,s.y),t.animating=!1,s.time?t._bind("webkitTransitionEnd"):t._resetPos(0);return}u=function(){var a=Date.now(),f,l;if(a>=i+s.time){t._pos(s.x,s.y),t.animating=!1,t.options.onAnimationEnd&&t.options.onAnimationEnd.call(t),t._startAni();return}a=(a-i)/s.time-1,o=e.sqrt(1-a*a),f=(s.x-n)*o+n,l=(s.y-r)*o+r,t._pos(f,l),t.animating&&(t.aniTime=h(u))},u()},_transitionTime:function(e){this.scroller.style[r+"TransitionDuration"]=e+"ms"},_momentum:function(t,r,i,s,o){var u=6e-4,a=e.abs(t)/r,f=a*a/(2*u),l=0,c=0;return t>0&&f>i?(c=o/(6/(f/a*u)),i+=c,a=a*i/f,f=i):t<0&&f>s&&(c=o/(6/(f/a*u)),s+=c,a=a*s/f,f=s),f*=t<0?-1:1,l=a/u,{dist:f,time:n(l)}},_offset:function(e){var t=-e.offsetLeft,n=-e.offsetTop;while(e=e.offsetParent)t-=e.offsetLeft,n-=e.offsetTop;return{left:t,top:n}},_bind:function(e,t,n){(t||this.scroller).addEventListener(e,this,!!n)},_unbind:function(e,t,n){(t||this.scroller).removeEventListener(e,this,!!n)},destroy:function(){var e=this;e.scroller.style[r+"Transform"]="",e._unbind(d,window),e._unbind(v),e._unbind(m),e._unbind(g),e._unbind(y),e._unbind("mouseout",e.wrapper),e.options.useTransition&&e._unbind("webkitTransitionEnd"),e.options.onDestroy&&e.options.onDestroy.call(e)},refresh:function(){var e=this,t;e.wrapperW=e.wrapper.clientWidth,e.wrapperH=e.wrapper.clientHeight,e.scrollerW=e.scroller.offsetWidth,e.scrollerH=e.scroller.offsetHeight,e.maxScrollX=e.wrapperW-e.scrollerW,e.maxScrollY=e.wrapperH-e.scrollerH,e.dirX=0,e.dirY=0,e.hScroll=e.options.hScroll&&e.maxScrollX<0,e.vScroll=e.options.vScroll&&(!e.options.bounceLock&&!e.hScroll||e.scrollerH>e.wrapperH),t=e._offset(e.wrapper),e.wrapperOffsetLeft=-t.left,e.wrapperOffsetTop=-t.top,e.scroller.style[r+"TransitionDuration"]="0",e._resetPos(200)},scrollTo:function(e,t,n,r){var i=this,s=e,o,u;i.stop(),s.length||(s=[{x:e,y:t,time:n,relative:r}]);for(o=0,u=s.length;o<u;o++)s[o].relative&&(s[o].x=i.x-s[o].x,s[o].y=i.y-s[o].y),i.steps.push({x:s[o].x,y:s[o].y,time:s[o].time||0});i._startAni()},scrollToElement:function(t,n){var r=this,i;t=t.nodeType?t:r.scroller.querySelector(t);if(!t)return;i=r._offset(t),i.left+=r.wrapperOffsetLeft,i.top+=r.wrapperOffsetTop,i.left=i.left>0?0:i.left<r.maxScrollX?r.maxScrollX:i.left,i.top=i.top>0?0:i.top<r.maxScrollY?r.maxScrollY:i.top,n=n===undefined?e.max(e.abs(i.left)*2,e.abs(i.top)*2):n,r.scrollTo(i.left,i.top,n)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(m),this._unbind(g),this._unbind(y)},enable:function(){this.enabled=!0},stop:function(){p(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1}},typeof t!="undefined"?t.iScroll=E:window.iScroll=E})(),n.exports=t.iScroll});